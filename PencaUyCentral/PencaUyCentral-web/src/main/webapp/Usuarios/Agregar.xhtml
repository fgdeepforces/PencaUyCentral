
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<f:event type="preRenderView" listener="#{LoginBean.verificarSesion}"></f:event>
</h:head> 
<body> 
<h:form>
<p:menubar>
	<f:facet name="options">
	<p:commandButton value="Volver" onclick="window.history.back();" icon="ui-icon-arrowreturnthick-1-w"/>
		<p:commandButton value="Cerrar SesiÃ³n" actionListener="#{LoginBean.cerrarSesion()}" action="/login?faces-redirect=true" icon="ui-icon-power"/>
	</f:facet>
</p:menubar>
<p:panel header="Agregar Usuario" style="margin-bottom:10px;">
	<h:panelGrid id="grid" cellpadding="5" columns="2" >
		<f:facet name="header">
			<p:messages id="msgs" />
		</f:facet>
		<p:outputLabel for="nombre" value="Nombre:" />
		<p:inputText id="nombre" value="#{AgregarUsuarioView.nombre}"
			required="true" requiredMessage="Debe tener un nombre." />
			
		<p:outputLabel for="apellido" value="Apellido:" />
		<p:inputText id="apellido" value="#{AgregarUsuarioView.apellido}"
			required="true" requiredMessage="Debe tener un apellido." />
								
		<p:outputLabel for="nacimiento" value="Nacimiento:" />
        <p:calendar id="nacimiento" value="#{AgregarUsuarioView.nacimiento}" />
			
		<p:outputLabel for="email" value="Email:" />
		<p:inputText id="email" value="#{AgregarUsuarioView.email}"
			required="true" requiredMessage="Debe tener un email." />
		
		<p:outputLabel for="nickname" value="Nickname:" />
		<p:inputText id="nickname" value="#{AgregarUsuarioView.nickname}"
			required="true" requiredMessage="Debe tener un nickname." />	
			
		<p:outputLabel for="password" value="Password:" />
		<p:inputText id="password" value="#{AgregarUsuarioView.password}"
			required="true" requiredMessage="Debe tener una password." />	

	</h:panelGrid>
	<h:panelGrid id="date" columns="6" cellpadding="5">
		<p:commandButton value="Agregar" id="botonAgregar" process="@form"
			update="grid" actionListener="#{AgregarUsuarioView.save}" />
	</h:panelGrid>
	
	<p:dialog modal="true" resizable="false" header="Values" widgetVar="dlg" showEffect="fold">
        <p:panelGrid id="display" columns="2" columnClasses="label,value">
            <h:outputText value="Nacimiento:" />
            <h:outputText value="#{calendarView.nacimiento}">
                <f:convertDateTime pattern="MM/dd/yyyy" />
            </h:outputText> 
        </p:panelGrid>
    </p:dialog>
</p:panel>
</h:form>
</body> 
</html>
